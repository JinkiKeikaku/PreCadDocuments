<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html;charset=Shift_JIS">
<TITLE>ひとりごと</TITLE>
</HEAD>
<BODY>
<H4 align=left>ひとりごと</H4>
<BLOCKQUOTE dir=ltr style="MARGIN-RIGHT: 0px">
  <P dir=ltr style="MARGIN-RIGHT: 0px" align=left>2006/04/30<BR>○OpenOCD str7x 
  flash driver 
  bug?<BR>　少しマニュアルを読んで調べた。wordプログラミングなのにbyteでアクセスしてるからいけない。修正して動くことを確認。昨日の修正は問答無用にdwordアクセスにしてたが、それでもいいけど上記のほうが修正量が少ないので、そっちに。あと、一応修正内容をメールしておいた。<BR>○str711 
  irq<BR>　同じARM7だからと言って割り込みコントローラ部分は全然違うのね。マニュアル読んでも全然分からない。<BR>　なんとなく分かってきた。LPCのほうが全然簡単。割り込みの数が多いからリソースを節約してこんな形になったのか？割り込みの実装方法が３つあって、いまいち特徴が分からない。しかも、とってもトリッキー。誰が考えたんだこんな方法。<BR>　やっと割り込みが一個かかった。これが正しいやり方かわからないが、よしとしよう。<BR>　しかし、OpenOCDはまだ安定していないのかなぁ。よく落ちる。</P>
  <P dir=ltr style="MARGIN-RIGHT: 0px" 
  align=left>2006/04/29<BR>○ロボット<BR>　OpenOCDでforce_hw_bkptsをenableにしたらうまくブレークポイントがかかった（多分）。本当はそうしても最初は駄目だったんだけど、いつの間にかよくなった感じ。もしかしたら他の原因もあったかもしれない。<BR>　.gdbinitが作れなくてcygwinで作ると出来た。なんかいろいろ忘れてる。<BR>　どうしても未定義命令で止まってしまう。<BR>○OpenOCD 
  str7x flash driver 
  bug?<BR>　どうも書き込むバイト数が8で割り切れないと残りを書き込んでいない感じなので、ソースを見てそれらしきところを修正。書き込めるようになる。<BR>　しかし、元のソースはどうもバイト書き込みを使っているらしいので、それでよさそうなんだけどflashの部分のマニュアルを読んでいないので、バグかどうか分からない。余裕が出来たら確認しよう。<BR>○車<BR>　バッテリーの電圧を測ったら10Vしかなかった。この状態でもエンジンがかかるが、さすがにやばいので充電。<BR>　ずっとこの低電圧状態だったんだろうなぁ。<BR>　８時間くらい充電。電圧12.5Vくらい。もうちょっと充電したい感じ。</P>
  <P dir=ltr style="MARGIN-RIGHT: 0px" 
  align=left>2006/04/28<BR>○生活<BR>　いろいろ失敗したような、そうでないような微妙な感じ。月曜日は休んで印鑑押し。<BR>○ロボット<BR>　やっと書き込みに成功。ブートがflashのときはflashのアドレスは0にマッピングされるから0から書き込めばいいと思ってたら、違うみたいでマッピング前のアドレスを指定するみたい。まぁそう思えばそんな気も。flashの部分のマニュアルを見てないので、本当のところ分からないけど。<BR>　これからタイマーと鬼門の割り込みにすすむ。あ、その前にデバッグ環境か。<BR>　うーん、gdbがわからない。わからないなりに前進。<BR>　str71のマニュアルは分かりづらい。やっぱり挫折しそう。ライブラリがあるけど、なんか使いづらそう。<BR>○インターフェース<BR>　近くの本屋で余っていた。ここら辺の本屋で、おまけ付が余っているのは初めてじゃないか？</P>
  <P dir=ltr style="MARGIN-RIGHT: 0px" 
  align=left>2006/04/27<BR>○謎<BR>　毎朝名前を書くのは同じ人というのはどうかと思う。<BR>○ロボット<BR>　適当にLEDをつけるプログラムを書いて書き込もうとしたが、どうしたらいいか分からない。困った。</P>
  <P dir=ltr style="MARGIN-RIGHT: 0px" 
  align=left>2006/04/26<BR>○ロボット<BR>　まぁ、同じARM7なんだし、メモリマップとか周辺とかクロックとかそれくらいしか変わらないということでいいのかな？<BR>　あー、マニュアルが読みづらい。LPCのほうが分かりやすかったな。やっぱり挫折しそう。</P>
  <P dir=ltr style="MARGIN-RIGHT: 0px" 
  align=left>2006/04/25<BR>○上前津<BR>　インターフェース２冊購入。安いよなぁ。<BR>　タケイムセンにFT2232があるかなと思ったがなかった。<BR>　頼まれてDVD-R30枚購入。銘柄指定なんで探すのに苦労した。<BR>　コネクタ類をいくつか。結構高かった。<BR>○OpenOCD<BR>　telnetでアクセス。なるほど。しかし、今のバージョンでは使いたいCPUがまだサポートしてない？のかな？<BR>　そういやクロック48MHzらしいんで、結局このCPUは使わないかも。マニュアル読んでもいまいち面白くないし。<BR>　parport.cをWinARMのgiveio.sysを使うバージョンに置き換えてコンパイル。なんとか使えるようになる。<BR>　やっとflashが認識できた気がする。でも、コマンドやパラメータの意味が全然分からない。ソースを読んでくださいね、と言うこと？<BR>　EZ-ARMは気軽でよかったなぁ。</P>
  <P dir=ltr style="MARGIN-RIGHT: 0px" 
  align=left>2006/04/24<BR>○ロボット<BR>　OpenOCDのmakeには成功した。configureでパラレルポートのオプションをはずしたら動いた。しかし、それではWigglerはどうすりゃいいんだ？ソース見てもパラレルポートのwindows用の記述が見つからない。使えないの？インストールの仕方のところにwindowsはFTDIのFT2232のオプションしか書いてないような？そういうものか？まぁいいか。<BR>　挫折してWinARMをとってきてOpenOCDを見てみる。ioperとか言うのでやってるのか。でも、administrator権限しか駄目とな？まぁいいか。いろいろ試してみよう。<BR>　giveio.sysとかで動くバージョンもあるみたいだけど、それがインストールできない。もうやめよう。<BR>　一応動いた。install_giveio.batではなく、<A 
  href="http://www.gijyutu.com/g-soft/automa/nt/automa_nt.html">ここ</A>を参考にしてloaddrv.exeでgiveio.sysを動かすとうまくいった。<BR>　あー、やっぱり挫折しそう。sampleプログラムがないからそれも作らんといかんのか。やっぱりやめようかな。</P>
  <P dir=ltr style="MARGIN-RIGHT: 0px" 
  align=left>2006/04/23<BR>○ARIA<BR>　重力が地球の1/3ってことはもしかしてAQUAは火星？気軽に地球から来てるし、テラフォーミングとか。<BR>　なにげに検索かけると、やっぱり火星か。もしかして話の中に出てきてる？<BR>○ロボット<BR>　また北半球から購入した別のCPU（やっぱりARM7）。さすがにEZ-ARM7みたいに簡単ではないような。だいたい情報が少ないし。いや、CPU自体にはたくさん資料があるんだけど、使っている人が見つからない。困った。<BR>○ロボット2<BR>　CPGについて調べだしてなんとなく分かってきた。やるには難しいかなぁ。なんか手抜きが出来ないかちょっとEXCELでチョコチョコやったけど、そううまくはいかない。まぁそうだろう。<BR>○ロボット3<BR>　夜、南半球より荷物が届く。思ったより早かった。関税も取られなかった。<BR>　付属CD-ROMが読めない。いかにも何も書いてないような、、、。そんなわけでWEBからDownload。動くことは確認したが、性能的に微妙なところ。Linuxでも動くそうなのでそのうち試そう。<BR>○ロボット4<BR>　OpenOCDをコンパイル。なんかいろいろやってconfigureまで。なんかいろいろ面倒と言うか、私はUNIX(Cygwinだけど)には向いてないんじゃないかと、、、。ツールのバージョンがいろいろあってよく分からん。とにかくエラーの出ないバージョンで試す。<BR>　make出来ない、、、。明日考える。</P>
  <P dir=ltr style="MARGIN-RIGHT: 0px" 
  align=left>2006/04/22<BR>○車<BR>　補機バッテリーを交換しようとカーショップに行くと「ディーラーにご相談」らしい。<BR>　ひとまずACの延長コードを買ってきていつでも充電できるようにしておく（をぃ）。<BR>○ロボット<BR>　北半球から荷物が届く。今度は関税は取られなかった。送料も海外にしては安い気もする。なかなか面白いものが多いのでまた注文しよう。Bluetoothとか無線物でもいいものがあるんで、日本で使えれば言うこと無しなんだが。<BR>　でも、なんかやる気が起きないのよねぇ。<BR>○生活<BR>　ADSLのスプリッターを買ってきて２階でFAXが出来ないか試すが失敗。</P>
  <P dir=ltr style="MARGIN-RIGHT: 0px" 
  align=left>2006/04/21<BR>○TWAIN<BR>　AutoFeederで読み込むことが出来たが、まだうまくまとまらない。しかし、今の仕事には十分かもしれない。<BR>○車<BR>　補機バッテリーがすぐに上がるので、もうそろそろ交換しなけりゃいかんかなぁ。<BR>○生活<BR>　FAXを送らなくちゃいけなくなったのでごそごそと。年に数回しか送らないので、今のままでいいかなと思い始める。</P>
  <P dir=ltr style="MARGIN-RIGHT: 0px" 
  align=left>2006/04/20<BR>○ロボット<BR>　南半球の荷物がやっと出発したそうな。到着までしばらくかかりそうだなぁ。<BR>○生活<BR>　必要な書類が見つからないのでめんどくさそう。</P>
  <P dir=ltr style="MARGIN-RIGHT: 0px" 
  align=left>2006/04/18<BR>○謎<BR>　３ヵ月後と言われたものが、４ヵ月後に出てきた。あいかわらず帰り際。やっぱり一部は戻るみたいじゃん。手続きできるか知らんけど。<BR>○生活<BR>　借金が増えるけど、返済は減るというのがなんか変な感じ。</P>
  <P dir=ltr style="MARGIN-RIGHT: 0px" 
  align=left>2006/04/16<BR>○いろいろ<BR>　やる気が出ない。進展なし。<BR>　録画していたものをだらだら見たり。コロラドはおもしろいよ。一回録画に失敗したけど。</P>
  <P dir=ltr style="MARGIN-RIGHT: 0px" 
  align=left>2006/04/14<BR>○謎<BR>　電話を受ける。「FAX届きました？」と聞かれれば普通はその電話の相手からだと思う。最初からどこから何についてのFAXと言ってくれればすぐに返答が出来るのに、、、。疲れた。<BR>○謎2<BR>　やっと３月が終わった（いや、まだ、、、）。いろいろ迷惑をかけた気がする（いや、俺がじゃないはずなんだが、、、）。いろいろあやまったり、お礼を言ったり、、、。<BR>　今までと違って、なぜか気分が悪いと言うか、損した気分というか、、、。<BR>○ロボット<BR>　今度は南半球へ何かを注文。オレオレ証明書だったり、いろいろ謎があったりで、こんどはやばいかも(をぃ)。<BR>○ロボット2<BR>　バイオメカニクスとかの本を少々読む。だんだん方向性がずれていく。こういうときは手段の目的化を疑うべきだなぁ。</P>
  <P dir=ltr style="MARGIN-RIGHT: 0px" 
  align=left>2006/04/10<BR>○謎<BR>　いやな予感が当たる。図面なんて信じちゃいけない。<BR>○謎2<BR>　音で分かるのに、、、。止めるだけなのね。私は勉強になったからいいけど。<BR>○朝ドラ<BR>　同級生役の声が「六番目の小夜子」で聞いたことがあると思ったら、あたりだった。声に特徴があるので、声優でもやってるかと思ったら、、、なるほど。気が付かなかった。うかつだった。</P>
  <P dir=ltr style="MARGIN-RIGHT: 0px" 
  align=left>2006/04/09<BR>○ロボット<BR>　傾斜計を頼むついでに、次のサーボのHV化とかいろいろ改良のためのFETドライバを物色してたが、小型サーボの基板に乗らないことが判明。FETドライバって小さいのがないのね。</P>
  <P dir=ltr style="MARGIN-RIGHT: 0px" 
  align=left>2006/04/08<BR>○天気<BR>　風が強い。視界が悪い。黄砂か？外に出たら気持ちほこりっぽい感じ。<BR>○パソコン<BR>　CVSのリポジトリが開発マシンと同じなのは気分が悪いので、ちょうどPlamo4.2が出たことだし、環境を整えよかなと思いいろいろ。インストールしてよく考えるとHDの容量が全然ないので、新品を買ってくる。その段階でサーバをいちいち立ち上げるのが面倒な気がしてきてそのHDは結局開発マシンに。リポジトリとワークのHDが別なので、まぁいいかと。でも、また気が変わってLinuxになるかも。</P>
  <P dir=ltr style="MARGIN-RIGHT: 0px" 
  align=left>2006/04/07<BR>○謎<BR>　何で私がこんな文章を書いているんだろう、、、。　<BR>○ロボット<BR>　上体の姿勢を計測する必要があるので、いろいろ調べる。傾斜計として秋月で買った３軸加速度センサーを使っていたが、ちょっと高いが専用のIC(結局加速度センサーだけど)のほうがアンプも要らないし、簡単でいい気がしてきた。<BR>　Gyroは安物を使っていたけど、どうも調子が悪いので、輸入しました。でも、安物なのでやっぱり使えないかも。</P>
  <P dir=ltr style="MARGIN-RIGHT: 0px" 
  align=left>2006/04/06<BR>○謎<BR>　12サーボが無料になりました。</P>
  <P dir=ltr style="MARGIN-RIGHT: 0px" 
  align=left>2006/04/05<BR>○謎<BR>　今年も苦労する予感。<BR>○いろいろ<BR>　VDDがMax 
  3Vですかぁ。3.3Vはだめかなぁ。念のためにちゃんと3V以下にしとこうか。明日レギュレータ買ってこよう。</P>
  <P dir=ltr style="MARGIN-RIGHT: 0px" 
  align=left>2006/04/05<BR>○謎<BR>　FAXが４行詩になっていることに気づく。<BR>○謎2<BR>　なんか私が責められて損した気分に。<BR>○いろいろ<BR>　海外から部品到着。関税を取られて結構高い買い物に。昨日見た時にはまだUSAだったものがなぜか今日着いている。Trackingが適当なのか？<BR>　0.4mmピッチのコネクタ。基板作れません。困った。</P>
  <P dir=ltr style="MARGIN-RIGHT: 0px" 
  align=left>2006/04/04<BR>○謎<BR>　おかしいですよ、カテジナさん。いろいろ衝撃的な事実が判明。<BR>　しかし、フォルダとか見るたびにめまいが起こるのは何とかならんかなぁ。世の中謎だらけだ。<BR>○謎2<BR>　年に一度しか使わない設備を起動。スイッチが接触不良だったりいろいろ。<BR>○いろいろ<BR>　ネジ到着。妙に重いと思ったら、中にカタログが入ってた。あせった。<BR>　海外に発注した物が一部はまだUSAだったり。日本の代理店も遅いが、直接注文しても遅いのね。<BR>　電車の中でとある部品のデータシートを見ながら、直接CPUにつないで読むのは難しいかなぁとか思い始める。使えなくても値段が安いので後悔はしないだろう。</P>
  <P dir=ltr style="MARGIN-RIGHT: 0px" 
  align=left>2006/04/02<BR>○いろいろ<BR>　部品のバリ取りとかいろいろ。<BR>　ねじを注文。<BR>　海外に発注した部品のデータシート探し。型番が分からないのよ（をぃ）。多分これと思うものが見つかるが、当たっているかは不明。解析用にロジアナキットを作らなければ。<BR>　データシートのリセットシーケンス部分を読む。すでに分からない。だめじゃん。<BR>○ロボット<BR>　軸受け部分をABSからジュラコンに変更する。寸法の間違いがあった部分の図面修正。切削は明日以降。<BR></P>
  <P dir=ltr style="MARGIN-RIGHT: 0px" align=left>&nbsp;</P><!--StartFragment --></BLOCKQUOTE>
</BODY>
</HTML>
