<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html;charset=Shift_JIS">
<TITLE>ひとりごと</TITLE>
</HEAD>
<BODY>
<H4 align=left>ひとりごと</H4>
<BLOCKQUOTE dir=ltr style="MARGIN-RIGHT: 0px">
  <P dir=ltr style="MARGIN-RIGHT: 0px" 
  align=left>2006/06/30<BR>○生活<BR>　健康診断ではヘモグロビンが少ないらしい。実際、貧血気味でやばかったんで鉄分補給の薬を買う。<BR>　薬の説明書を読んでたら、食前食後30分はコーヒーを飲むなと書いてあった。コーヒーで鉄分吸収が阻害されるのか。なるほど。思い当たる節がありすぎる。<BR>　でも、コーヒーの微量の鉄分が貧血にいいと書いてあるHPもあるなぁ。なんか世の中、適当なもんだなぁ。<BR>○USB-JTAG<BR>　ベステクから出るですかぁ。あぁー、俺は何をやっていたんだろう。OpenOCDのチュートリアルが日本語で読めるといいなぁ。<BR>○Scilab本<BR>　上前津で買ってきました。読む余裕があるかどうかは分かりません。</P>
  <P dir=ltr style="MARGIN-RIGHT: 0px" 
  align=left>2006/06/28<BR>○ロボット<BR>　フィルターを浮動小数点に変更。遅くなりそうなんで単純化。しかし、HPFがいまいち。もうここらへんでやめて次へいこう。<BR>○エバーウッド<BR>　第１シーズン終了。手術の結果は？と言うところか。スタートレックで慣れてるけど、シーズンの終了でじらされるのはなんとも。第2シーズンはやるのかなぁ。</P>
  <P dir=ltr style="MARGIN-RIGHT: 0px" 
  align=left>2006/06/27<BR>○生活<BR>　予定変更で何もなし。朝ドラを見逃す。<BR>○謎<BR>　団子を注文して、一番小さい団子を選ぶと言うルールがまずいと思いました（食べれるかどうかの確認がその後と言うのもどうかと思いますが）。<BR>　いっそのことランダムに選べば問題はほぼなくなります。いや、ランダムはまずいですね。基準値と大きさの差を選択確率に比例する（GAのルーレットルールみたいな感じ）とすれば、選ばれるものが予想できないし、ある程度の小ささは確保されて面白いと思います。なんかギャンブルみたいですが、もともとギャンブルみたいなものですし。<BR>○OpenOCD<BR>　rev76をコンパイルしました。<BR>○str711<BR>　今度は突然ocdがjtagつかえなくなっちゃってね、、、。書き込んだプログラムのバグで意図しない再帰がスタック使いまくっててね、、、。リセットをかけてすぐにocdを起動して急いでflashを消去したら復活。もうちょっとうまい方法が無いとこれから怖い。<BR>○ロボット<BR>　フィルターが収束しねぇ。固定小数点じゃ無理か。</P>
  <P dir=ltr style="MARGIN-RIGHT: 0px" 
  align=left>2006/06/26<BR>○str711<BR>　GNUARMのバージョンを上げたら引数の問題は直ったみたい。<BR>○本<BR>　常温核融合な本を買ってしまったが、スライド（PowerPoint?）を図に使っていて何が何やらで、こういう編集はいいのか？と思ってしまった。読みづらい。そういやこの出版社のこのサイズの本は以前も同じように後悔したな。<BR>　常温核融合はいろいろ結果がでているらしいけど、おもいっきり否定されたんで表には出ないはなと。本筋の核融合発電はあと数十年、なんとなく来世紀あたりまで出来そうに無いんで、だめでも数年はこっちに寄り道していいんじゃないかと思う。なんとなくだけど。</P>
  <P dir=ltr style="MARGIN-RIGHT: 0px" 
  align=left>2006/06/25<BR>○生活<BR>　豊田市方面。順調で予定より早くつく。道が新しい。お寺も新しい。万博。いろいろなくなっている。理念とは？蟹。<BR>○str711<BR>　ある関数の引数の5個目がおかしい。引数のいくつかはレジスタ経由で渡しているような気がするが、スタック渡しはどうなっているのかが分からない。そもそもアセンブラが分からない。なんか深い闇にもぐりこんでいる気がする。</P>
  <P dir=ltr style="MARGIN-RIGHT: 0px" 
  align=left>2006/06/24<BR>○str711<BR>　おそらく原因はわかった。自分で作ったところじゃない。ここは棄てよう。もともとGPLなライブラリだし、それほどメリットもないし、いつかは切ろうと思っていた部分だ。<BR>○str711 
  printf<BR>　<A 
  href="http://misumi.sakura.ne.jp/blog/">作業日誌（みすみロボット研究所）</A>の2006年05月01日の日誌のsh7144_1.cの中のprintfの簡易版をva_arg()とかを使って可変引数にして使用させていただきました。ライセンスとか見つからなかったけど、まずかったらまたソースを探す旅に出ます。<BR>　しかし、いろいろなことで検索をかけるとROBO-ONE参加者HPのヒット率が高い、、、。<BR>　でも、本当に原因が分かったのかどうか、、、。またそのうちおかしくなったらどうしよう。<BR>　やっぱり直ってなかった。Flashの書き込みの失敗かなぁ。<BR>　IRQのスタックサイズが少なかった？でも、そんなに使ってないはず。わからない。</P>
  <P dir=ltr style="MARGIN-RIGHT: 0px" 
  align=left>2006/06/23<BR>○str711<BR>　動いたり動かなかったり。こういう時はたいていスタックが関係してると思うけど、どうしても原因が分からない。</P>
  <P dir=ltr style="MARGIN-RIGHT: 0px" 
  align=left>2006/06/22<BR>○謎<BR>　だめだ、書けない。これじゃストレスたまるな。</P>
  <P dir=ltr style="MARGIN-RIGHT: 0px" 
  align=left>2006/06/21<BR>○謎<BR>　今日もUIの研究（？）。右ボタンメニューというか、コンテキストメニューはいいよ。説明が楽だ。充実させるべきだ。<BR>　WEBベースは、、、つらい。もっと工夫してほしい。<BR>○謎2<BR>　勝ち組、負け組。ある種の宗教にはかかわりたくない。<BR>○ふつうのLinuxプログラミング<BR>　だいたい読んだ。これはいいものだった。詳しくはmanを見てというあたり、UNIXな感じだなぁと。しかし、manって何かをしたいときにどうしたらいいか分からないと言うか、いまはネットで検索があるんでいいんだけど。<BR>○str711<BR>　処理をタスクに分割してたら、動かない部分が出てきて、デバッガでメモリを見ながらアセンブルリストで動作を確認して異常が無いのに、出てくる値がおかしくて悩んでいたが、自然に治るとはどういうわけ？GDBとかわからずにやってるんで、まったくわからん。<BR>　eclipseが突然立ち上がらなくなるが、設定ファイルを適当にコピーして何とか持ち直す。デバッガの設定が、どこをいじったか分からずに悩む。<BR>○Scilab<BR>　<A 
  href="http://www.cqpub.co.jp/hanbai/books/30/30921.htm">http://www.cqpub.co.jp/hanbai/books/30/30921.htm</A><BR>　まさにタイムリー（なのか？）。面白そうなんで買っちまうな。</P>
  <P dir=ltr style="MARGIN-RIGHT: 0px" 
  align=left>2006/06/20<BR>○謎<BR>　UIの研究（なのか？）。まぁ、慣れてもらうと。右ボタンメニューはあったほうが説明しやすい。テストする機会があれば、クロックメニューも試してみたいところ。<BR>　GUIは言葉での操作説明が難しい。CUIは嫌いと言いながら、時々信念が揺らぐ。でも、コマンドをアルファベットで叫ぶほうが苦痛か。<BR>○ADM3202<BR>　昨日、もしかしたらとピンを半田ごてであぶったら、ショートが無くなった。ピンに半田のカスが付いていただけ。<BR>○str711<BR>　難しいことは<STRIKE>やらない</STRIKE>できないので、適当な周期でタスクを実行する物を作ることにする。<BR>○eclipse<BR>　しょぼい使い方してると思うけど、快適。反応が多少鈍いのは許す。<BR></P>
  <P dir=ltr style="MARGIN-RIGHT: 0px" 
  align=left>2006/06/18<BR>○str711<BR>　スイッチ基板はCPUを乗っけずにただのスイッチとLEDだけの基板に。<BR>　はずしてるかもしれないけど、GPIOのIPUPDって他のビットをOutputにした場合、あまり使えないんじゃないかと。ソフトで工夫すればいいけど、外付けでプルアップ抵抗を付けるだけならそのほうが楽と思った。<BR>　しかし、妙なクセと言うか、仕様が多すぎるなぁ。single 
  wire 
  UARTが2ch取れると思いきや、P0.10は入出力5VOKみたいだけど、P0.8は入力が駄目っぽい。なんかけちくさいよなぁ。<BR>○車<BR>　ちょっと用事があって車屋へ。ついでにすぐ上がる補機バッテリーの相談をしたが、しばらく様子を見ることに。なんか、Readyならエンジンが回って無くてもメインのバッテリーから充電するとか言ってたが、どうなんだろう？あと、トランクに補機バッテリーがあるから水素ガスが出ないようにシールドバッテリーにしたとか初めて聞いた。そこまで考えていたのか？<BR>　ついでに、今は使わなくなった自作のバックアップ電源に使っていた古いバッテリー（元は以前乗っていたマーチのバッテリー）を引き取ってもらった。<BR>　帰ってからバッテリーの電圧を測ったら12V以上あった。じっくり充電したので復活したのかな？<BR>○ADM3202<BR>　RS-232Cがループバックしているような感じで、調べたらADM3202のRXinとTXoutが導通している。何度も再利用しているので、壊したかなぁ。</P>
  <P dir=ltr style="MARGIN-RIGHT: 0px" 
  align=left>2006/06/16<BR>○SakraCad<BR>　基板作成用にレイヤーのAND(OR)表示をつけてみたが使い方にコツがいり、一般的な用途がない気もするので実装を中断する。ツールバーは削除するが、コードは残しておくことにする。</P>
  <P dir=ltr style="MARGIN-RIGHT: 0px" 
  align=left>2006/06/15<BR>○ロボット<BR>　スイッチ基板を作ったが、また問題を発見。サーボラインの電源コントロールは別のスイッチで行うことにしたが、一緒につける電源監視ランプとファイルアクセスランプがサーボラインのオフで表示することができなくなる。まさに盲点（バカ）。<BR>　正直、サーボラインにIO基板をつなげたかっただけなんだよなぁ。手段の目的化と言うことは分かってたんだ。<BR>○謎<BR>　改行や半角のコンマを使っちゃ駄目だそうだ。解決策なんていくらでもあるのに。中の人が作ったならいいけど、どこかに頼んで作ったならヤバイと思う。<BR>　自由記入をどうやって集計するのか興味深い。</P>
  <P dir=ltr style="MARGIN-RIGHT: 0px" 
  align=left>2006/06/14<BR>○ロボット<BR>　試行錯誤でさらに電源の効率が上がった。短絡試験OK。</P>
  <P dir=ltr style="MARGIN-RIGHT: 0px" 
  align=left>2006/06/13<BR>○生活<BR>　1日で50行以上も記帳された通帳を見る。どう考えても一回でいいと思うが、（お役所仕事と言うこと以外に）何か理由があるのだろう。<BR>○ロボット<BR>　新しく電源基板を作って波形観測。電流は今の環境では見れないので、FETのゲート電圧とか。いろいろまずいところが分かった。入力側のコンデンサが容量不足というか、あまり性能がよくない感じで、秋月で買った10uFのチップセラコンを付けたら効率が少し上がった。</P>
  <P dir=ltr style="MARGIN-RIGHT: 0px" 
  align=left>2006/06/12<BR>○謎<BR>　体力なし。<BR>○oidaki.com<BR>　久しぶりに見た。いつの間にやら内容充実。<BR>○ロボット<BR>　スイッチ基板に問題発見。スイッチ基板でサーボ電源をOFFにすると、スイッチ基板の電源も落ちて、メイン電源をON,OFFしないとサーボ電源がONにならない。まぁ、仕様と言えばいいけど結構やばいんで、運用で逃れるか考え直すか。</P>
  <P dir=ltr style="MARGIN-RIGHT: 0px" 
  align=left>2006/06/11<BR>○ロボット<BR>　スイッチ基板にマイコンを乗っけてサーボと同じシリアルで通信しようと思ったが、その基板を固定する場所が無い。困った。<BR>　でも、メイン基板に付けるコネクタを減らせるので、何とかする。<BR>　アートワーク作成。ついでに、電源基板も作成する。</P>
  <P dir=ltr style="MARGIN-RIGHT: 0px" align=left>2006/06/10<BR>○str711 
  adc12<BR>　マニュアルに0Vと2.5Vで補正して頂戴と書いてあるが、今回はそれほど精度いらないので、何とかなるだろうと思ったが、全然駄目だった。<BR>○utf-8<BR>　encodingが分かるフォーマットにして、BOMをつけないとして、notepadとかで開けないと困ることがあるかもな。でも、BOMはつけたくない。正解が存在しない問題な気もする。</P>
  <P dir=ltr style="MARGIN-RIGHT: 0px" 
  align=left>2006/06/09<BR>○謎<BR>　アンケートねたとか某組織の勧誘ねたとか書いていたが、危険なので削除。ボコボコにされたくないので（謎）。</P>
  <P dir=ltr style="MARGIN-RIGHT: 0px" 
  align=left>2006/06/08<BR>○eclipse<BR>　なぜか時々デバッガの起動に失敗するようになった。<BR>　なぜか直った。いろいろさわったが、原因がよく分からない。<BR>　JAVAメモリ食い過ぎ。<BR>　FT2232のJTAGがパソコン起動後は認識していないような？USBコネクタを刺し直さないと認識しない。何かおかしいかもしれない。</P>
  <P dir=ltr style="MARGIN-RIGHT: 0px" 
  align=left>2006/06/06<BR>○エバーウッド<BR>　何話かまとめて見る。凄く丁寧に作ってあるなぁ。吹き替えも楽しんでやってる感じ（特にDrアボット）。エフラムは攻殻機動隊も好きらしい。そういえば、人狼のポスターもでてきた。<BR>　そろそろコリンバブル崩壊か？<BR>　もうすぐ第1シーズンが終わっちゃうらしい。本家では第4シーズンまでいってるらしいが、そんなにネタが続くのかなぁ。<BR>○ふつうのLinuxプログラミング<BR>　まだほとんど読んでないけど、この本は買ってよかった。重要でないところは適当に飛ばしてその他は丁寧に書いてある。<BR>　OpenOCDもDSOもLinuxで動いてしまうんで、だんだんWindowsに依存しなくてもいいんじゃないかと思い始めてきた。開発環境があれば、いるものは作ればいいわけだし。まぁ、それなりに大変と思うけど。</P>
  <P dir=ltr style="MARGIN-RIGHT: 0px" align=left>2006/06/05<BR>○FT2232 
  JTAG<BR>　ケース加工完了。CNCで適当に穴を開けた。<BR>　USBのコネクタはピッタリ。JTAGがわのコネクタは穴はピッタリだけど、ちょっとはみだしてしまった。<BR>　電源確認などのLEDを付ければ良かったかなぁ。</P>
  <P dir=ltr style="MARGIN-RIGHT: 0px" 
  align=left>2006/06/04<BR>○eclipse<BR>　なんとなくつかえるようになってきた。eclipseはオプションやメニューがが多すぎるなぁ。ツールバーのカスタマイズがわからない。画面はめちゃくちゃかっこいいが、解像度が低い画面だとつらいだろうなぁ。1280X1024でなら使える感じだけど(TV見なければ)。<BR>○FT2232 
  JTAG<BR>　まだ試験中だけど、何とかできた。OpenOCDでデバッグできている感じ。最初どうしても認識しなくて悩んだが、すでに入っていたFTDIのSerialドライバをUninstallしてから新たにD2XXドライバ（と言う名前じゃ無いかもしれない）を入れればよかった。その他、cfgの書き方は<A 
  href="http://www.toppers.jp/TOPPERS-USERS/200602/msg00034.html">http://www.toppers.jp/TOPPERS-USERS/200602/msg00034.html</A>のを参考にした。コンパイルやなんかもここを参考にした。助かりました。<BR>　これの基板を作るついでに0.4mmピッチなコネクタの変換基板も作った（<A href="image/usbjtag.jpg">基板と謎の部品</A>）。作るのはそれほど問題は無かったが、半田付けが厳しかった。このパーツで遊ぶ時は来るんだろうか？<BR>　あとはケースの加工。</P>
  <P dir=ltr style="MARGIN-RIGHT: 0px" 
  align=left>2006/06/03<BR>○eclipse<BR>　環境構築開始。コンパイルは適当に出来たが、デバッガが動かなかったので、ついでにeclipseのバージョンを上げる。ここらへんのことはよく分かっていない。ちなみに<A 
  href="http://adsp2191.hp.infoseek.co.jp/misc/015_eclipse.shtml">http://adsp2191.hp.infoseek.co.jp/misc/015_eclipse.shtml</A>を参考にさせてもらいました。<BR>○いろいろ<BR>　「ふつうのLinuxプログラミング」の最初の方のページがめくるたびにボロボロと剥がれていく。Amazonで買っちまったもんだから返品面倒だし、のりで引っ付けるかなぁ。<BR>○生活<BR>　横断歩道を自転車で横断中、思いっきり加速してくる左折車にひかれる。見えなかったそうだ。自転車の前輪はグニャグニャだが、怪我はないので自転車代をもらって、近くの自転車屋まで乗せていってもらう。<BR>　去年の11月に買ってるんで、半年ちょっとだったね。<BR>○eclipse2<BR>　なんとなく動いている。デバッグも出来るようになったがまだなれない。OpneOCDは別にDOS窓で起動させているが、他の方法があるはずなので、そのうち調べることにする。<BR>　環境構築がめんどくさい。結局、makefileはいるのかな？<BR>　それなりのテキストエディターとコマンドラインツールのほうがいいんじゃないか？それでは日頃言っていることと逆じゃないか。IDE擁護派の自分はどこへ。</P>
  <P dir=ltr style="MARGIN-RIGHT: 0px" 
  align=left>2006/06/02<BR>○生活<BR>　再び日本のデンマークへ。昨日に比べ道が混んでいたので心配したが、予定どうりに到着。<BR>○IDEaliST<BR>　やっぱりVC++のIDEは優秀だったなぁ。<BR>　こんどはEclipseで環境を作りたいけど、OpenOCDとの組み合わせでどうなのよと思うと手がすすまない。<BR>○いろいろ<BR>　なぜか「ふつうのLinuxプログラミング」という本が手元に。なんとなく私の様な素人でも理解できそうだったから、つい。</P>
  <P dir=ltr style="MARGIN-RIGHT: 0px" 
  align=left>2006/06/01<BR>○生活<BR>　昼に帰って、銀行。夕方、日本のデンマークへ。渋滞も無くすんなり着く。<BR>　思うところいろいろ。<BR>　三河安城駅は新幹線は止まるのに、快速電車はなぜか止まりません。<BR>○IDEaliST<BR>　使い勝ては悪くない気がするが、日本語が通らないのが悲しい。でも、今のところたいして困らない。<BR>　がんばって移植と言うか、ソースの登録しなおし。<BR>　ソースを開くと問答無用にMDIの子ウィンドウが最大化するのはなぜ？buildすると、みんなコンパイルしなおしてるのか？なんかいまひとつ。</P>
  <P dir=ltr style="MARGIN-RIGHT: 0px" align=left>&nbsp;</P><!--StartFragment --></BLOCKQUOTE>
</BODY>
</HTML>
